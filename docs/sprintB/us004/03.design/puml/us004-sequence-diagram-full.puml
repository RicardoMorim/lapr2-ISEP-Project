@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "Organization Employee" as ADM
participant ":AddSkillUI" as UI
participant ":SkillController" as SkillCTRL
participant ":CollaboratorController" as CollaboratorCTRL
participant "SkillRepository:\nSkillRepository" as SkillRepository


activate ADM
    ADM -> UI : asks to add one or more Skills to a collaborator
    activate UI
        UI -> ADM: Asks the desired collaborator's email
    deactivate UI
    ADM -> UI : writes the collaborator's email

    activate UI

        UI -> CollaboratorCTRL: getCollaboratorByEmail(email)
        activate CollaboratorCTRL
            alt collaborator not found
                CollaboratorCTRL -> UI: returns an error
                UI -> ADM: shows the error and quits the operation
            end

                CollaboratorCTRL -> UI: returns collaborator
        deactivate CollaboratorCTRL
        UI -> SkillCTRL: getSkills()
        activate SkillCTRL
            SkillCTRL -> SkillRepository: getSkills()
            activate SkillRepository
                SkillRepository -> SkillCTRL: returns skills
            deactivate SkillRepository

            SkillCTRL -> UI: returns skills
            deactivate SkillCTRL

        UI -> ADM: shows the skills that the collaborator doesn't \nhave and asks to choose the ones he wants to add
    deactivate UI
    ADM -> UI: chooses the skills that he wants to add

    activate UI
        UI -> SkillCTRL: addSkills(collaborator, skills)
        activate SkillCTRL
            SkillCTRL -> CollaboratorCTRL: addSkills(collaborator, skills)
            activate CollaboratorCTRL
                CollaboratorCTRL -> SkillCTRL: returns the added skills
            deactivate CollaboratorCTRL
            SkillCTRL -> UI: returns the added skills
            deactivate SkillCTRL
        UI -> ADM: shows the updated skill list
    deactivate UI
deactivate ADM

@enduml